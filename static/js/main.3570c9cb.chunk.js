(this.webpackJsonpgiftomatic=this.webpackJsonpgiftomatic||[]).push([[0],{109:function(e,t){e.exports={MORALIS_APP_ID:Object({NODE_ENV:"production",PUBLIC_URL:"/giftomatic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).MORALIS_APP_ID||"<MORALIS_APP_ID>",MORALIS_SERVER_URL:Object({NODE_ENV:"production",PUBLIC_URL:"/giftomatic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).MORALIS_SERVER_URL||"<MORALIS_SERVER_ID>",CONTRACT_ADDRESS:Object({NODE_ENV:"production",PUBLIC_URL:"/giftomatic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_ADDRESS||"<SMART_CONTRACT_ADDRESS>"}},1103:function(e,t){},1241:function(e,t){},1304:function(e,t,n){},1307:function(e,t,n){},1316:function(e,t,n){},1324:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(78),s=n.n(i),c=n(69),r=n(333),o=n(46),l=n(565),u=n.p+"static/media/gift1.e95e42bb.png",d=(n(1304),n(3)),j=function(){var e=Object(c.b)().authenticate;return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("img",{src:u,alt:""}),Object(d.jsx)("h1",{className:"heading",children:"Welcome to GiftoMatic"}),Object(d.jsx)("p",{className:"description",children:"The decentralised way to create donation campaigns. "}),Object(d.jsx)(l.a,{className:"button",onClick:function(){return e()},children:"Connect Wallet"})]})},b=n(8),p=n(58),m=n(2),O=n.n(m),h=(n(1307),function(e){var t=e.item,n=e.showDetails,a=parseInt(t.targetAmount)<=parseInt(t.collectedAmount);return Object(d.jsxs)("div",{className:"itemTile",children:[Object(d.jsxs)("h5",{className:"donationTitle",children:[" ",t.title,a?Object(d.jsx)("div",{className:"status completed",children:"Completed"}):Object(d.jsx)("div",{className:"status running",children:"Running"})]}),Object(d.jsx)("p",{className:"donationDescription",children:t.description.length>100?t.description.substring(0,100)+" ...":t.description}),Object(d.jsx)("button",{onClick:function(){return n()},className:"button",children:"View Details"})]})}),g=n(255),f=n.n(g),x=(n(1316),n(551),n(72)),v=n.n(x),y=n(109),T=n(157),S=function(e){var t=e.closeModal,n=Object(c.b)().Moralis,i=Object(a.useState)(""),s=Object(p.a)(i,2),r=s[0],o=s[1],l=Object(a.useState)(""),u=Object(p.a)(l,2),j=u[0],m=u[1],h=Object(a.useState)(""),g=Object(p.a)(h,2),f=g[0],x=g[1],S=Object(a.useState)(""),C=Object(p.a)(S,2),N=C[0],A=C[1],_=Object(a.useState)(0),R=Object(p.a)(_,2),E=R[0],w=R[1],k=Object(a.useState)(null),D=Object(p.a)(k,2),I=(D[0],D[1],function(){var e=Object(b.a)(O.a.mark((function e(){var a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.enableWeb3();case 2:return a={contractAddress:y.CONTRACT_ADDRESS,functionName:"createCampaign",abi:T,params:{_title:r,_description:j,_targetAmount:v.a.utils.toWei(E,"ether"),_image:f,_link:N}},e.prev=3,e.next=6,n.executeFunction(a);case 6:void 0!==(i=e.sent)&&(console.log(i.events.campaignCreation.returnValues),t()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}());return Object(d.jsxs)("div",{className:"dataForm",children:[Object(d.jsx)("input",{value:r,onChange:function(e){return o(e.target.value)},className:"textfield",placeholder:"Title"}),Object(d.jsx)("textarea",{value:j,onChange:function(e){return m(e.target.value)},className:"textfield",placeholder:"Description"}),Object(d.jsx)("input",{value:f,onChange:function(e){return x(e.target.value)},className:"textfield",placeholder:"Image URL"}),Object(d.jsx)("input",{value:N,onChange:function(e){return A(e.target.value)},className:"textfield",placeholder:"Associated Link"}),Object(d.jsx)("input",{type:"number",value:E,onChange:function(e){return w(e.target.value)},className:"textfield"}),Object(d.jsxs)("p",{style:{marginLeft:10},className:"donationTitle",children:["Target Amount (in ETH): ",E]}),Object(d.jsx)("button",{onClick:function(){return I()},className:"button",children:"Submit"})]})},C=n(124),N=function(e){var t=e.bgcolor,n=e.progress,a={display:"flex",width:"100%",height:e.height,backgroundColor:"whitesmoke",borderRadius:40,alignItems:"center"},i={height:"100%",width:"".concat(n,"%"),backgroundColor:t,borderRadius:40,textAlign:"center",display:"flex",justifyContent:"center"};return Object(d.jsx)("div",{style:a,children:Object(d.jsx)("div",{style:i,children:Object(d.jsx)("span",{style:{color:"#fff",display:"flex",alignItems:"center",fontFamily:"Gill Sans, Gill Sans MT, Calibri, Trebuchet MS, sans-serif"},children:"".concat(n,"%")})})})},A=function(e){var t=e.selectedId,n=e.campaign,a=e.closeModal,i=parseInt(n.targetAmount)<=parseInt(n.collectedAmount),s=parseInt(n.collectedAmount)/parseInt(n.targetAmount)*100,r=Object(c.b)().user;return Object(d.jsxs)("div",{className:"container left",children:[Object(d.jsxs)("h5",{className:"donationTitle",children:[n.title,i?Object(d.jsx)("div",{className:"status completed",children:"Completed"}):Object(d.jsx)("div",{className:"status running",children:"Running"}),Object(d.jsx)("button",{className:"button",onClick:function(){navigator.clipboard.writeText(window.location.href+r.get("ethAddress")+"/"+t+1),Object(C.b)("Link copied to clipboard"),a()},children:"Share Link"})]}),Object(d.jsx)(N,{bgcolor:"red",progress:s,height:25}),Object(d.jsxs)("h4",{className:"heading",children:[v.a.utils.fromWei(n.collectedAmount)," ETH collected out of ",v.a.utils.fromWei(n.targetAmount)," ETH target."]}),Object(d.jsx)("p",{className:"donationDescription",children:n.description}),Object(d.jsx)("img",{height:200,width:200,src:n.image}),Object(d.jsx)("a",{className:"link",href:n.manualLink,children:"Associated Link"})]})},_={content:{width:"50%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",borderRadius:"20px",padding:"20px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.2)"}},R=function(e){var t=e.selectedId,n=e.selectedCampaign,a=e.isDetails,i=e.modalIsOpen,s=e.closeModal;return Object(d.jsxs)(f.a,{isOpen:i,onRequestClose:s,contentLabel:"Create Campaign Form",style:_,children:[Object(d.jsx)("div",{className:"crossButton",children:Object(d.jsx)("button",{style:{border:0,backgroundColor:"#fff",fontSize:18},onClick:s,children:"X"})}),Object(d.jsxs)("h2",{className:"heading",children:[" ",a?"View Details":"Create Campaign"]}),a?Object(d.jsx)(A,{selectedId:t,campaign:n,closeModal:s}):Object(d.jsx)(S,{closeModal:s})]})},E=function(){var e=Object(c.b)(),t=e.user,n=e.logout,i=e.Moralis,s=Object(a.useState)(-1),r=Object(p.a)(s,2),o=r[0],l=r[1],u=Object(a.useState)([]),j=Object(p.a)(u,2),m=j[0],g=j[1],x=Object(a.useState)(!1),v=Object(p.a)(x,2),S=v[0],N=v[1],A=Object(a.useState)(!1),_=Object(p.a)(A,2),E=_[0],w=_[1],k=Object(a.useState)(null),D=Object(p.a)(k,2),I=D[0],L=D[1];function M(e,t){L(t),w(e),N(!0)}f.a.setAppElement("body");var W=function(){var e=Object(b.a)(O.a.mark((function e(){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.enableWeb3();case 2:return n={contractAddress:y.CONTRACT_ADDRESS,functionName:"getAllCampaigns",abi:T,params:{owner:t.get("ethAddress")}},e.prev=3,e.next=6,i.executeFunction(n);case 6:void 0!==(a=e.sent)&&g(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),Object(C.b)("Unable to connect with Network!");case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){W()}),[]),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)("a",{href:"/",children:"GiftoMatic"})}),Object(d.jsxs)("div",{className:"userDetails",children:[Object(d.jsx)("h5",{children:t.get("ethAddress")}),Object(d.jsx)("button",{className:"button",onClick:Object(b.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)}))),children:"Logout"})]})]}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"list",children:[Object(d.jsxs)("div",{className:"title",children:[Object(d.jsx)("h2",{className:"heading",children:"Your Campaigns"}),Object(d.jsx)("button",{className:"button",onClick:Object(b.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(!1,null);case 1:case"end":return e.stop()}}),e)}))),children:" Create Campaign "})]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"items",children:0==m.length?Object(d.jsx)("div",{style:{marginLeft:5},children:Object(d.jsx)("h3",{className:"heading",children:"No Campaigns"})}):m.map((function(e,t){return Object(d.jsx)(h,{item:e,showDetails:function(){l(t),M(!0,e)}},t)}))})]}),Object(d.jsx)(R,{selectedId:o,selectedCampaign:I,isDetails:E,modalIsOpen:S,closeModal:function(){return N(!1),void W()}})]})},w=function(e){var t=e.campaign,n=e.refresh,i=parseInt(t.targetAmount)<=parseInt(t.collectedAmount),s=parseInt(t.collectedAmount)/parseInt(t.targetAmount)*100,r=Object(a.useState)(0),l=Object(p.a)(r,2),u=l[0],j=l[1],m=Object(c.b)().Moralis,h=Object(o.f)(),g=h.userToken,f=h.id,x=function(){var e=Object(b.a)(O.a.mark((function e(){var t,a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.enableWeb3();case 2:return t=v.a.utils.toWei(u,"ether"),a={contractAddress:y.CONTRACT_ADDRESS,functionName:"addGift",abi:T,msgValue:t,params:{owner:g,_id:f}},e.prev=4,e.next=7,m.executeFunction(a);case 7:i=e.sent,console.log(i),void 0!==i&&(Object(C.b)("Thanks for your donation!"),n()),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0.message),Object(C.b)(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{className:"donationTitle",children:[t.title,i?Object(d.jsx)("div",{className:"status completed",children:"Completed"}):Object(d.jsx)("div",{style:{fontSize:"12px"},className:"status running",children:"Running"})]}),Object(d.jsx)(N,{bgcolor:"red",progress:s,height:25}),Object(d.jsxs)("h4",{className:"heading",children:[v.a.utils.fromWei(t.collectedAmount,"ether")," ETH collected out of ",v.a.utils.fromWei(t.targetAmount)," ETH target."]}),Object(d.jsx)("p",{className:"donationDescription",children:t.description}),Object(d.jsx)("a",{className:"link",href:t.manualLink,children:"Associated Link"}),Object(d.jsx)("br",{})," ",Object(d.jsx)("br",{}),Object(d.jsx)("img",{height:200,width:200,src:t.image})," ",Object(d.jsx)("br",{}),Object(d.jsx)("p",{style:{fontFamily:"Gill Sans, Gill Sans MT, Calibri, Trebuchet MS, sans-serif"},children:" Enter amount to donate in ETH: "}),Object(d.jsx)("input",{value:u,onChange:function(e){return j(e.target.value)},type:"number",className:"textfield"}),Object(d.jsx)("button",{className:"button",onClick:function(){return x()},children:"Donate"})]})},k=function(){var e=Object(o.f)(),t=e.userToken,n=e.id,i=Object(c.b)(),s=i.user,r=i.logout,l=i.Moralis,u=Object(a.useState)(!0),j=Object(p.a)(u,2),m=j[0],h=j[1],g=Object(a.useState)(null),f=Object(p.a)(g,2),x=f[0],v=f[1],S=Object(a.useState)(""),C=Object(p.a)(S,2),N=C[0],A=C[1],_=function(){var e=Object(b.a)(O.a.mark((function e(){var a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.enableWeb3();case 2:return a={contractAddress:y.CONTRACT_ADDRESS,functionName:"viewCampaign",abi:T,params:{owner:t,_id:n}},e.prev=3,e.next=6,l.executeFunction(a);case 6:i=e.sent,console.log(i),void 0!==i&&(v(i),h(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0.message),A(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){_()}),[]),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)("a",{href:"/",children:"GiftoMatic"})}),Object(d.jsxs)("div",{className:"userDetails",children:[Object(d.jsx)("h5",{children:s.get("ethAddress")}),Object(d.jsx)("button",{className:"button",onClick:Object(b.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}),e)}))),children:"Logout"})]})]}),""!==N?N:m?Object(d.jsx)("h2",{className:"heading",children:"Loading..."}):Object(d.jsx)(w,{refresh:function(){return _()},campaign:x})]})};var D=function(){var e=Object(c.b)().isAuthenticated;return Object(d.jsx)(r.a,{children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/:userToken/:id",children:e?Object(d.jsx)(k,{}):Object(d.jsx)(j,{})}),Object(d.jsx)(o.a,{path:"/",children:e?Object(d.jsx)(E,{}):Object(d.jsx)(j,{})})]})})};n(1322);s.a.render(Object(d.jsxs)(c.a,{appId:y.MORALIS_APP_ID,serverUrl:y.MORALIS_SERVER_URL,children:[Object(d.jsx)(D,{}),Object(d.jsx)(C.a,{})]}),document.getElementById("root"))},157:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"uint256","name":"_id","type":"uint256"}],"name":"campaignCreation","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"addGift","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"string","name":"_title","type":"string"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_targetAmount","type":"uint256"},{"internalType":"string","name":"_image","type":"string"},{"internalType":"string","name":"_link","type":"string"}],"name":"createCampaign","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"getAllCampaigns","outputs":[{"components":[{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"targetAmount","type":"uint256"},{"internalType":"uint256","name":"collectedAmount","type":"uint256"},{"internalType":"string","name":"image","type":"string"},{"internalType":"string","name":"manualLink","type":"string"}],"internalType":"struct Gift.Campaign[]","name":"_campaigns","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"getCampaignCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"viewCampaign","outputs":[{"components":[{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"targetAmount","type":"uint256"},{"internalType":"uint256","name":"collectedAmount","type":"uint256"},{"internalType":"string","name":"image","type":"string"},{"internalType":"string","name":"manualLink","type":"string"}],"internalType":"struct Gift.Campaign","name":"_event","type":"tuple"}],"stateMutability":"view","type":"function"}]')},551:function(e,t,n){},829:function(e,t){},831:function(e,t){},833:function(e,t){},837:function(e,t){},861:function(e,t){},863:function(e,t){},877:function(e,t){},879:function(e,t){},998:function(e,t){},999:function(e,t){}},[[1324,1,2]]]);
//# sourceMappingURL=main.3570c9cb.chunk.js.map